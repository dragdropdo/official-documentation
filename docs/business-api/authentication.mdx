---
title: "Authentication & rate limiting"
description: "How API key authentication and rate limiting work in the D3 Business API."
---

# Authentication & rate limiting

## API key authentication

Business API routes under `/v1/biz` are protected with an API‑key–based middleware (`APIKeyAuth`) that verifies requests using a hashed key and encrypted digest stored in the `developer_app_details` (or equivalent) table.

Send your key using the `X-D3-API-Key` header:

<CodeGroup>
```bash cURL
curl -X GET https://api.d3.com/v1/biz/status/task_abc123 \
  -H "X-D3-API-Key: d3_live_xxx"
```

```ts NODE
import { D3Client } from "d3-node-client";

const client = new D3Client({
  apiKey: "d3_live_xxx",
  baseURL: "https://api.d3.com",
});

// API key is automatically included in all requests
```

```python PYTHON
from d3_client import D3Client, D3ClientConfig

client = D3Client(
    api_key="d3_live_xxx",
    base_url="https://api.d3.com"
)

# API key is automatically included in all requests
```

```php PHP
use D3\D3Client;

$client = new D3Client([
    'api_key' => 'd3_live_xxx',
    'base_url' => 'https://api.d3.com',
]);

// API key is automatically included in all requests
```

```ruby RUBY
require 'd3_ruby_client'

client = D3RubyClient::Client.new(
  api_key: 'd3_live_xxx',
  base_url: 'https://api.d3.com'
)

# API key is automatically included in all requests
```

```go GO
import "github.com/d3/d3-go-client"

client, _ := d3.NewClient(d3.Config{
    APIKey:  "d3_live_xxx",
    BaseURL: "https://api.d3.com",
});

// API key is automatically included in all requests
```

```java JAVA
import com.d3.client.D3Client;
import com.d3.client.D3ClientConfig;

D3Client client = new D3Client(
    new D3ClientConfig("d3_live_xxx")
        .setBaseUrl("https://api.d3.com")
);

// API key is automatically included in all requests
```

</CodeGroup>

Under the hood the middleware:

1. Looks up the stored record by API key prefix or mapping.
2. Decrypts the stored digest using AES.
3. Recomputes the hash using `(digest + provided_api_key)`.
4. Compares it with the stored hash and verifies `ExpireAt` / `IsActive`.

If the key is invalid or expired, the request is rejected with an authentication error.

API keys themselves are generated via:

<CodeGroup>
```bash cURL
curl -X POST https://api.d3.com/v1/developer/generate-api-key \
  -H "Authorization: Bearer your-user-jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "My SaaS backend",
    "webhook_url": "https://example.com/webhooks/d3",
    "webhook_secret": "",
    "region": "us-east-1"
  }'
```

```ts NODE
// Note: API key generation is done via the Developer API
// The Node.js SDK uses the generated API key for Business API calls
import { D3Client } from "d3-node-client";

const client = new D3Client({
  apiKey: "d3_live_xxx", // Generated via Developer API
  baseURL: "https://api.d3.com",
});
```

```python PYTHON
# Note: API key generation is done via the Developer API
# The Python SDK uses the generated API key for Business API calls
from d3_client import D3Client, D3ClientConfig

client = D3Client(
    api_key="d3_live_xxx",  # Generated via Developer API
    base_url="https://api.d3.com"
)
```

```php PHP
// Note: API key generation is done via the Developer API
// The PHP SDK uses the generated API key for Business API calls
use D3\D3Client;

$client = new D3Client([
    'api_key' => 'd3_live_xxx', // Generated via Developer API
    'base_url' => 'https://api.d3.com',
]);
```

```ruby RUBY
# Note: API key generation is done via the Developer API
# The Ruby SDK uses the generated API key for Business API calls
require 'd3_ruby_client'

client = D3RubyClient::Client.new(
  api_key: 'd3_live_xxx', # Generated via Developer API
  base_url: 'https://api.d3.com'
)
```

```go GO
// Note: API key generation is done via the Developer API
// The Go SDK uses the generated API key for Business API calls
import "github.com/d3/d3-go-client"

client, _ := d3.NewClient(d3.Config{
    APIKey:  "d3_live_xxx", // Generated via Developer API
    BaseURL: "https://api.d3.com",
});
```

```java JAVA
// Note: API key generation is done via the Developer API
// The Java SDK uses the generated API key for Business API calls
import com.d3.client.D3Client;
import com.d3.client.D3ClientConfig;

D3Client client = new D3Client(
    new D3ClientConfig("d3_live_xxx") // Generated via Developer API
        .setBaseUrl("https://api.d3.com")
);
```

</CodeGroup>

See **Developer API → API keys** in your product documentation for more detail.

## Rate limiting

The Business API uses a token‑bucket rate limiter backed by Redis:

- Each API key has an associated **rate limit** (e.g. `1000/m`).
- Tokens are periodically refilled in Redis.
- Each request consumes one or more tokens.
- If there are not enough tokens, the request is rejected with a 429 status.

Typical HTTP response on limit exceeded:

```json
{
  "error": "rate_limit_exceeded",
  "message": "Too many requests. Please try again later."
}
```

Your effective limits and quotas are visible in the D3 dashboard / developer portal.
